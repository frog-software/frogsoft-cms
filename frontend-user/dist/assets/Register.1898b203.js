import{a as e,q as a,p as t,i as l,r as s,c as d,b as n,w as i,o,d as r,e as u}from"./vendor.678eb57e.js";import{_ as p}from"./index.fffc2a39.js";const f={name:"Register",data:()=>({username:"",email:"",password:"",repeatedPassword:"",code:"",btnCodeLoading:!1,btnRegisterLoading:!1}),methods:{sendCode(t){this.btnCodeLoading=!0,e.post("/website/email",{email:t}).then((()=>{a.success(`验证码已成功发送至${t}`)})).finally((()=>{this.btnCodeLoading=!1}))},finishRegister(){this.btnRegisterLoading=!0,this.password!==this.repeatedPassword?a.error("两次输入的密码不一致"):e.post("/users",{username:this.username,password:this.password,email:this.email,code:this.code}).then((()=>{a.success("注册成功！"),this.$router.push({name:"Login"})})).catch((e=>{switch(e.response.status){case 401:a.destroy(),a.error("验证码错误！");break;case 409:a.destroy(),a.error("该用户名已经被注册！");break;case 500:a.destroy(),a.error(e.response.data.msg);break;default:a.error("不应该出现这句话")}})),this.btnRegisterLoading=!1}}};t("data-v-e94723e6");const c={class:"login"},y=r("img",{width:300,src:p},null,-1),g=r("h2",{style:{color:"rgb(23, 7, 66)"}}," 莆仙方言在线工具 ",-1),m=r("h3",{style:{"padding-left":"350px"}}," 用户名 ",-1),h=r("h3",{style:{"padding-left":"350px"}}," 密码 ",-1),_=r("h3",{style:{"padding-left":"350px"}}," 邮箱验证 ",-1),b=u(" 发送验证码 "),x=u(" 注册 "),v=r("p",null," 已有账号？",-1),w=u(" 登录 ");l(),f.render=function(e,a,t,l,r,u){const p=s("a-col"),f=s("a-row"),j=s("a-input"),L=s("a-input-password"),C=s("a-button"),k=s("a-divider"),R=s("router-link");return o(),d("div",c,[n(f,{align:"middle",justify:"center",type:"flex"},{default:i((()=>[n(p,null,{default:i((()=>[y])),_:1})])),_:1}),n(f,{align:"middle",justify:"center",style:{"padding-bottom":"20px"},type:"flex"},{default:i((()=>[n(p,null,{default:i((()=>[g])),_:1})])),_:1}),n(f,{justify:"start",type:"flex"},{default:i((()=>[n(p,null,{default:i((()=>[m])),_:1})])),_:1}),n(f,{justify:"center",style:{"padding-bottom":"10px"},type:"flex"},{default:i((()=>[n(p,{span:"6"},{default:i((()=>[n(j,{value:r.username,"onUpdate:value":a[0]||(a[0]=e=>r.username=e),"max-length":50,placeholder:"输入用户名"},null,8,["value"])])),_:1})])),_:1}),n(f,{justify:"start",type:"flex"},{default:i((()=>[n(p,null,{default:i((()=>[h])),_:1})])),_:1}),n(f,{justify:"center",style:{"padding-bottom":"10px"},type:"flex"},{default:i((()=>[n(p,{span:"6"},{default:i((()=>[n(L,{value:r.password,"onUpdate:value":a[1]||(a[1]=e=>r.password=e),placeholder:"输入密码",size:"default"},null,8,["value"])])),_:1})])),_:1}),n(f,{justify:"center",style:{"padding-bottom":"10px"},type:"flex"},{default:i((()=>[n(p,{span:"6"},{default:i((()=>[n(L,{value:r.repeatedPassword,"onUpdate:value":a[2]||(a[2]=e=>r.repeatedPassword=e),placeholder:"请再次输入",size:"default"},null,8,["value"])])),_:1})])),_:1}),n(f,{justify:"start",type:"flex"},{default:i((()=>[n(p,null,{default:i((()=>[_])),_:1})])),_:1}),n(f,{justify:"center",style:{"padding-bottom":"10px"},type:"flex"},{default:i((()=>[n(p,{span:"4"},{default:i((()=>[n(j,{value:r.email,"onUpdate:value":a[3]||(a[3]=e=>r.email=e),"max-length":50,placeholder:"输入邮箱"},null,8,["value"])])),_:1}),n(p,{span:"2"},{default:i((()=>[n(C,{shape:"round",type:"primary",disabled:!r.email,loading:r.btnCodeLoading,onClick:a[4]||(a[4]=e=>u.sendCode(r.email))},{default:i((()=>[b])),_:1},8,["disabled","loading"])])),_:1})])),_:1}),n(f,{justify:"center",style:{"padding-bottom":"10px"},type:"flex"},{default:i((()=>[n(p,{span:"6"},{default:i((()=>[n(j,{value:r.code,"onUpdate:value":a[5]||(a[5]=e=>r.code=e),placeholder:"输入验证码",size:"default"},null,8,["value"])])),_:1})])),_:1}),n(f,{align:"middle",justify:"center",type:"flex"},{default:i((()=>[n(p,{span:"2"},{default:i((()=>[n(C,{shape:"round",type:"primary",loading:r.btnRegisterLoading,disabled:!(r.username&&r.password&&r.email&&r.code),onClick:u.finishRegister},{default:i((()=>[x])),_:1},8,["loading","disabled","onClick"])])),_:1})])),_:1}),n(k),n(f,{justify:"center",style:{"padding-bottom":"20px"},type:"flex"},{default:i((()=>[n(p,{span:"4"},{default:i((()=>[v])),_:1}),n(p,{span:"2"},{default:i((()=>[n(R,{to:{name:"Login"}},{default:i((()=>[w])),_:1})])),_:1})])),_:1})])},f.__scopeId="data-v-e94723e6";export{f as default};
