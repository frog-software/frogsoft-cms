import{a}from"./index.fffc2a39.js";import{r as t,g as e,w as s,a as n,o as r,b as i,j as o}from"./vendor.678eb57e.js";const l={name:"SearchResult",props:{keyWords:String},data:()=>({loading:{articles:!1,words:!1},articles:[],words:[],searchContent:""}),computed:{spinning(){let a=!1;return this.loading.forEach((t=>{!0===t&&(a=!0)})),a}},watch:{keyWords(){this.loadingData()}},created(){this.loadingData()},methods:{loadingData(){this.searchContent=this.keyWords,Object.keys(this.loading).forEach((a=>{this.loading[a]=!0})),n.get("/articles",{params:{search:this.keyWords}}).then((a=>{this.articles=a.data.articles})).finally((()=>{this.loading.articles=!1})),n.get("/words",{params:{search:this.keyWords}}).then((a=>{this.words=a.data.words})).finally((()=>{this.loading.words=!1}))}}},d=Object.assign(l,{setup:function(n){return(n,l)=>{const d=t("a-input-search"),h=t("a-card"),c=t("a-spin");return r(),e(c,{spinning:n.spinning,delay:500,style:{width:"90%"}},{default:s((()=>[i(h,null,{title:s((()=>[i(d,{value:n.searchContent,"onUpdate:value":l[0]||(l[0]=a=>o(searchContent)?searchContent.value=a:null),placeholder:"请输入搜索内容","enter-button":"",size:"large",onSearch:l[1]||(l[1]=a=>n.$router.push({name:"Search",query:{key:n.searchContent}}))},null,8,["value"])])),default:s((()=>[i(a,{"list-data":n.articles,"page-size":8},null,8,["list-data"])])),_:1})])),_:1},8,["spinning"])}}});export{d as default};
